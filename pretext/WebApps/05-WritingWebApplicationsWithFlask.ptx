<?xml version="1.0"?>
<section xml:id="web-apps_writing-web-applications-with-flask">
  <title>Writing Web Applications With Flask</title>
  <p>In this section, you will learn how to write web applications using a Python framework
            called Flask.</p>
  <p>Here is an example of a Flask web application:</p>
  <program language="python">
    <input>
 from flask import Flask
 from datetime import datetime

 app = Flask(__name__)

 @app.route('/')
 def hello():
     return """&lt;html&gt;&lt;body&gt;
         &lt;h1&gt;Hello, world!&lt;/h1&gt;
         The time is """ + str(datetime.now()) + """.
         &lt;/body&gt;&lt;/html&gt;"""

 if __name__ == "__main__":
     # Launch the Flask dev server
     app.run(host="localhost", debug=True)
</input>
  </program>
  <p>The application begins by importing the Flask framework on line 1. Lines 6-11 define a function <c>hello()</c>
            that serves up a simple web page containing the date and time. The call to <c>app.run()</c> on Line 14
            starts a small web server. The <c>run()</c> method
            does not return; it executes an infinite loop that waits for incoming requests from web browsers.
            When a web browser sends a request to the Flask web server, the server invokes the <c>hello()</c> function
            and returns the HTML code generated by the function to the web browser, which displays the result.</p>
  <p>To see this in action, copy the code above into a text editor and save it as flaskhello.py (or whatever
            name you like). Then, download the Flask framework and install it on your computer. In many cases,
            you can accomplish this using the pip command included with your Python distribution:</p>
  <pre>pip install flask</pre>
  <p>Next, execute your flaskhello.py program from the command line:</p>
  <pre>python flaskhello.py</pre>
  <note>
    <p>If you are using a Mac or Linux computer, use the following command to install flask:</p>
    <pre>pip3 install flask</pre>
    <p>and execute your flaskhello.py program using the following command:</p>
    <pre>python3 flaskhello.py</pre>
  </note>
  <p>When you launch the program, you should see a message similar to the following appear on the console:</p>
  <pre>* Serving Flask app "sample" (lazy loading)
* Environment: production
WARNING: Do not use the development server in a production environment.
Use a production WSGI server instead.
* Debug mode: on
* Restarting with stat
* Debugger is active!
* Debugger PIN: 244-727-575
* Running on http://localhost:5000/ (Press CTRL+C to quit)</pre>
  <note>
    <p>If you get an error message of some sort, it is possible that your computer
                may be running a server application that is using the port number that
                Flask wants to use. See the next
                section, <q>More About Flask,</q> for a discussion of port numbers and how
                to address this issue.</p>
  </note>
  <p>Once the Flask server is running, use your browser to navigate to the following URL:</p>
  <blockquote>
    <p>
      <url href="http://localhost:5000/" visual="http://localhost:5000/">http://localhost:5000/</url>
    </p>
  </blockquote>
  <p>Your browser sends a request to the Flask server, and you should see a <q>Hello, world!</q> message appear:</p>
  <figure align="">
    <image source="WebApps/Figures/flaskhello.png" width="50%"/>
  </figure>
  <p>To send the request again, press the Reload button in your browser. You should
            see the date and time change.</p>
</section>
